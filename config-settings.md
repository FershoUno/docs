# Настройки config.json для MDwiki

Этот документ описывает все доступные настройки конфигурации для MDwiki, которые можно указать в файле `config.json`.

## Обзор

MDwiki использует файл `config.json` для настройки различных аспектов поведения и внешнего вида вики. Файл должен находиться в корневой директории вики и содержать валидный JSON.

## Структура конфигурации

### Основные настройки

#### `title`
- **Тип**: `string` или `null`
- **По умолчанию**: `null`
- **Описание**: Заголовок сайта, который будет отображаться в теге `<title>` страницы.
- **Пример**: 
  ```json
  {
    "title": "MiniOS Live Wiki"
  }
  ```

#### `useSideMenu`
- **Тип**: `boolean`
- **По умолчанию**: `true`
- **Описание**: Включает или отключает боковое меню навигации (Table of Contents) для страниц.
- **Пример**:
  ```json
  {
    "useSideMenu": true
  }
  ```

#### `lineBreaks`
- **Тип**: `string`
- **По умолчанию**: `"gfm"`
- **Возможные значения**: `"gfm"`, `"original"`
- **Описание**: Настройка обработки переносов строк в markdown:
  - `"gfm"` - GitHub Flavored Markdown (переносы строк обрабатываются как `<br>`)
  - `"original"` - классический Markdown (переносы строк игнорируются, нужны двойные переносы)
- **Пример**:
  ```json
  {
    "lineBreaks": "gfm"
  }
  ```

#### `additionalFooterText`
- **Тип**: `string`
- **По умолчанию**: `""`
- **Описание**: Дополнительный текст, который будет отображаться в подвале сайта.
- **Пример**:
  ```json
  {
    "additionalFooterText": "© 2024 MiniOS Project"
  }
  ```

#### `anchorCharacter`
- **Тип**: `string`
- **По умолчанию**: `"&para;"`
- **Описание**: HTML-символ, который отображается при наведении на заголовки для создания якорных ссылок.
- **Пример**:
  ```json
  {
    "anchorCharacter": "#"
  }
  ```

#### `tocAnchor`
- **Тип**: `string`
- **По умолчанию**: `"[ &uarr; ]"`
- **Описание**: Текст ссылки "наверх к содержанию", отображаемой после заголовков H2 на мобильных устройствах.
- **Пример**:
  ```json
  {
    "tocAnchor": "↑ К содержанию"
  }
  ```

## Полный пример конфигурации

```json
{
  "title": "MiniOS Live Wiki",
  "useSideMenu": true,
  "lineBreaks": "gfm",
  "additionalFooterText": "© 2024 MiniOS Project. Документация распространяется под лицензией MIT.",
  "anchorCharacter": "#",
  "tocAnchor": "↑ Наверх"
}
```

## Техническая информация

### Загрузка конфигурации

MDwiki загружает конфигурацию следующим образом:

1. Выполняется AJAX-запрос к файлу `config.json`
2. Если файл найден и содержит валидный JSON, настройки объединяются с настройками по умолчанию
3. Если файл не найден или содержит ошибки, используются настройки по умолчанию

### Значения по умолчанию

```javascript
{
  title: null,
  useSideMenu: true,
  lineBreaks: "gfm",
  additionalFooterText: "",
  anchorCharacter: "&para;",
  tocAnchor: "[ &uarr; ]"
}
```

### Обработка ошибок

- Если `config.json` не найден, MDwiki продолжает работу с настройками по умолчанию
- Если файл содержит невалидный JSON, в консоли браузера будет выведена ошибка, но сайт продолжит работать
- Неизвестные параметры в конфигурации игнорируются

## Рекомендации

1. **Всегда проверяйте валидность JSON** перед загрузкой конфигурации на сервер
2. **Используйте кодировку UTF-8** для файла `config.json`
3. **Не включайте комментарии** в JSON-файл, так как стандарт JSON их не поддерживает
4. **Делайте резервные копии** конфигурации перед внесением изменений

## Связанные файлы

- `navigation.md` - файл навигационного меню
- `index.html` - основной файл MDwiki
- `*.md` - файлы содержимого wiki

## Дополнительная информация

Подробную информацию о MDwiki можно найти в официальной документации: [http://dynalon.github.io/mdwiki/](http://dynalon.github.io/mdwiki/)
